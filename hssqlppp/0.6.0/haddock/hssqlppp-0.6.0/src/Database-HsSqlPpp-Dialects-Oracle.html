<?xml version="1.0" encoding="UTF-8"?>
<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Strict//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-strict.dtd">
<html>
<head>
<!-- Generated by HsColour, http://code.haskell.org/~malcolm/hscolour/ -->
<title>src/Database/HsSqlPpp/Dialects/Oracle.lhs</title>
<link type='text/css' rel='stylesheet' href='hscolour.css' />
</head>
<body>

<pre><a name="line-1"></a><span class='hs-varop'>&gt;</span> <span class='hs-comment'>{-# LANGUAGE OverloadedStrings #-}</span>
<a name="line-2"></a><span class='hs-varop'>&gt;</span> <span class='hs-keyword'>module</span> <span class='hs-conid'>Database</span><span class='hs-varop'>.</span><span class='hs-conid'>HsSqlPpp</span><span class='hs-varop'>.</span><span class='hs-conid'>Dialects</span><span class='hs-varop'>.</span><span class='hs-conid'>Oracle</span> <span class='hs-layout'>(</span><span class='hs-varid'>oracleDialect</span><span class='hs-layout'>)</span> <span class='hs-keyword'>where</span>
</pre>
<pre><a name="line-3"></a><span class='hs-varop'>&gt;</span> <span class='hs-keyword'>import</span> <span class='hs-conid'>Database</span><span class='hs-varop'>.</span><span class='hs-conid'>HsSqlPpp</span><span class='hs-varop'>.</span><span class='hs-conid'>Internals</span><span class='hs-varop'>.</span><span class='hs-conid'>Dialect</span>
<a name="line-4"></a><span class='hs-varop'>&gt;</span> <span class='hs-keyword'>import</span> <span class='hs-conid'>Database</span><span class='hs-varop'>.</span><span class='hs-conid'>HsSqlPpp</span><span class='hs-varop'>.</span><span class='hs-conid'>Dialects</span><span class='hs-varop'>.</span><span class='hs-conid'>Postgres</span>
</pre>
Oracle is a very small hack based on postgres. This should be fixed
after adding some more tests. It is particularly bad since we don't
use oracle style 'numeric' for ints, so it is not very compatible with
oracle (there are lots of other standard oracle types missing, which
is probably the biggest issue at the moment.

<pre><a name="line-5"></a><span class='hs-varop'>&gt;</span> <span class='hs-definition'>oracleDialect</span> <span class='hs-keyglyph'>::</span> <span class='hs-conid'>Dialect</span>
<a name="line-6"></a><span class='hs-varop'>&gt;</span> <span class='hs-definition'>oracleDialect</span> <span class='hs-keyglyph'>=</span> <span class='hs-conid'>Dialect</span>
<a name="line-7"></a><span class='hs-varop'>&gt;</span>     <span class='hs-layout'>{</span><span class='hs-varid'>diName</span> <span class='hs-keyglyph'>=</span> <span class='hs-str'>"oracle"</span>
<a name="line-8"></a><span class='hs-varop'>&gt;</span>     <span class='hs-layout'>,</span><span class='hs-varid'>diSyntaxFlavour</span> <span class='hs-keyglyph'>=</span> <span class='hs-conid'>Oracle</span>
<a name="line-9"></a><span class='hs-varop'>&gt;</span>     <span class='hs-layout'>,</span><span class='hs-varid'>diCanonicalTypeNames</span> <span class='hs-keyglyph'>=</span>  <span class='hs-keyglyph'>[</span><span class='hs-layout'>(</span><span class='hs-str'>"timestamp"</span><span class='hs-layout'>,</span> <span class='hs-keyglyph'>[</span><span class='hs-str'>"datetime"</span><span class='hs-keyglyph'>]</span><span class='hs-layout'>)</span>
<a name="line-10"></a><span class='hs-varop'>&gt;</span>                              <span class='hs-comment'>-- todo: temp before sqlserver dialect is done properly</span>
<a name="line-11"></a><span class='hs-varop'>&gt;</span>                              <span class='hs-comment'>-- this hack should probably move to the ansi dialect first</span>
<a name="line-12"></a><span class='hs-varop'>&gt;</span>                              <span class='hs-layout'>,</span><span class='hs-layout'>(</span><span class='hs-str'>"int1"</span><span class='hs-layout'>,</span> <span class='hs-keyglyph'>[</span><span class='hs-str'>"tinyint"</span><span class='hs-keyglyph'>]</span><span class='hs-layout'>)</span>
<a name="line-13"></a><span class='hs-varop'>&gt;</span>                              <span class='hs-layout'>,</span><span class='hs-layout'>(</span><span class='hs-str'>"int2"</span><span class='hs-layout'>,</span> <span class='hs-keyglyph'>[</span><span class='hs-str'>"smallint"</span><span class='hs-keyglyph'>]</span><span class='hs-layout'>)</span>
<a name="line-14"></a><span class='hs-varop'>&gt;</span>                              <span class='hs-layout'>,</span><span class='hs-layout'>(</span><span class='hs-str'>"int4"</span><span class='hs-layout'>,</span> <span class='hs-keyglyph'>[</span><span class='hs-str'>"integer"</span><span class='hs-layout'>,</span><span class='hs-str'>"int"</span><span class='hs-keyglyph'>]</span><span class='hs-layout'>)</span>
<a name="line-15"></a><span class='hs-varop'>&gt;</span>                              <span class='hs-layout'>,</span><span class='hs-layout'>(</span><span class='hs-str'>"int8"</span><span class='hs-layout'>,</span> <span class='hs-keyglyph'>[</span><span class='hs-str'>"bigint"</span><span class='hs-keyglyph'>]</span><span class='hs-layout'>)</span>
<a name="line-16"></a><span class='hs-varop'>&gt;</span>                              <span class='hs-layout'>,</span><span class='hs-layout'>(</span><span class='hs-str'>"numeric"</span><span class='hs-layout'>,</span> <span class='hs-keyglyph'>[</span><span class='hs-str'>"decimal"</span><span class='hs-keyglyph'>]</span><span class='hs-layout'>)</span>
<a name="line-17"></a><span class='hs-varop'>&gt;</span>                              <span class='hs-layout'>,</span><span class='hs-layout'>(</span><span class='hs-str'>"float4"</span><span class='hs-layout'>,</span> <span class='hs-keyglyph'>[</span><span class='hs-str'>"real"</span><span class='hs-keyglyph'>]</span><span class='hs-layout'>)</span>
<a name="line-18"></a><span class='hs-varop'>&gt;</span>                              <span class='hs-layout'>,</span><span class='hs-layout'>(</span><span class='hs-str'>"float8"</span><span class='hs-layout'>,</span> <span class='hs-keyglyph'>[</span><span class='hs-str'>"double precision"</span><span class='hs-layout'>,</span><span class='hs-str'>"float"</span><span class='hs-layout'>,</span><span class='hs-str'>"double"</span><span class='hs-keyglyph'>]</span><span class='hs-layout'>)</span>
<a name="line-19"></a><span class='hs-varop'>&gt;</span>                              <span class='hs-comment'>-- probably some missing here</span>
<a name="line-20"></a><span class='hs-varop'>&gt;</span>                              <span class='hs-layout'>,</span><span class='hs-layout'>(</span><span class='hs-str'>"varchar"</span><span class='hs-layout'>,</span> <span class='hs-keyglyph'>[</span><span class='hs-str'>"character varying"</span><span class='hs-keyglyph'>]</span><span class='hs-layout'>)</span>
<a name="line-21"></a><span class='hs-varop'>&gt;</span>                              <span class='hs-layout'>,</span><span class='hs-layout'>(</span><span class='hs-str'>"char"</span><span class='hs-layout'>,</span> <span class='hs-keyglyph'>[</span><span class='hs-str'>"character"</span><span class='hs-keyglyph'>]</span><span class='hs-layout'>)</span>
<a name="line-22"></a><span class='hs-varop'>&gt;</span>                              <span class='hs-layout'>,</span><span class='hs-layout'>(</span><span class='hs-str'>"bool"</span><span class='hs-layout'>,</span> <span class='hs-keyglyph'>[</span><span class='hs-str'>"boolean"</span><span class='hs-keyglyph'>]</span><span class='hs-layout'>)</span><span class='hs-keyglyph'>]</span>
<a name="line-23"></a><span class='hs-varop'>&gt;</span>     <span class='hs-layout'>,</span><span class='hs-varid'>diTextTypes</span> <span class='hs-keyglyph'>=</span> <span class='hs-keyglyph'>[</span><span class='hs-str'>"char"</span><span class='hs-layout'>,</span><span class='hs-str'>"varchar"</span><span class='hs-layout'>,</span><span class='hs-str'>"text"</span><span class='hs-keyglyph'>]</span>
<a name="line-24"></a><span class='hs-varop'>&gt;</span>     <span class='hs-layout'>,</span><span class='hs-varid'>diDatetimeTypes</span> <span class='hs-keyglyph'>=</span> <span class='hs-keyglyph'>[</span><span class='hs-str'>"date"</span><span class='hs-layout'>,</span><span class='hs-str'>"time"</span><span class='hs-layout'>,</span><span class='hs-str'>"timestamp"</span><span class='hs-layout'>,</span><span class='hs-str'>"interval"</span><span class='hs-keyglyph'>]</span>
<a name="line-25"></a><span class='hs-varop'>&gt;</span>     <span class='hs-layout'>,</span><span class='hs-varid'>diNumberTypes</span> <span class='hs-keyglyph'>=</span> <span class='hs-keyglyph'>[</span><span class='hs-str'>"int2"</span><span class='hs-layout'>,</span><span class='hs-str'>"int4"</span><span class='hs-layout'>,</span><span class='hs-str'>"int8"</span><span class='hs-layout'>,</span><span class='hs-str'>"numeric"</span><span class='hs-layout'>,</span><span class='hs-str'>"float4"</span><span class='hs-layout'>,</span><span class='hs-str'>"float8"</span><span class='hs-keyglyph'>]</span>
<a name="line-26"></a><span class='hs-varop'>&gt;</span>     <span class='hs-layout'>,</span><span class='hs-varid'>namesForAnsiTypes</span> <span class='hs-keyglyph'>=</span> <span class='hs-keyglyph'>[</span><span class='hs-layout'>(</span><span class='hs-str'>"char"</span><span class='hs-layout'>,</span><span class='hs-str'>"char"</span><span class='hs-layout'>)</span>
<a name="line-27"></a><span class='hs-varop'>&gt;</span>                          <span class='hs-layout'>,</span><span class='hs-layout'>(</span><span class='hs-str'>"varchar"</span><span class='hs-layout'>,</span><span class='hs-str'>"varchar"</span><span class='hs-layout'>)</span>
<a name="line-28"></a><span class='hs-varop'>&gt;</span>                          <span class='hs-layout'>,</span><span class='hs-layout'>(</span><span class='hs-str'>"bigint"</span><span class='hs-layout'>,</span><span class='hs-str'>"int8"</span><span class='hs-layout'>)</span>
<a name="line-29"></a><span class='hs-varop'>&gt;</span>                          <span class='hs-layout'>,</span><span class='hs-layout'>(</span><span class='hs-str'>"boolean"</span><span class='hs-layout'>,</span><span class='hs-str'>"bool"</span><span class='hs-layout'>)</span>
<a name="line-30"></a><span class='hs-varop'>&gt;</span>                          <span class='hs-layout'>,</span><span class='hs-layout'>(</span><span class='hs-str'>"numeric"</span><span class='hs-layout'>,</span><span class='hs-str'>"numeric"</span><span class='hs-layout'>)</span>
<a name="line-31"></a><span class='hs-varop'>&gt;</span>                          <span class='hs-layout'>,</span><span class='hs-layout'>(</span><span class='hs-str'>"int"</span><span class='hs-layout'>,</span><span class='hs-str'>"int4"</span><span class='hs-layout'>)</span>
<a name="line-32"></a><span class='hs-varop'>&gt;</span>                          <span class='hs-layout'>,</span><span class='hs-layout'>(</span><span class='hs-str'>"date"</span><span class='hs-layout'>,</span><span class='hs-str'>"date"</span><span class='hs-layout'>)</span>
<a name="line-33"></a><span class='hs-varop'>&gt;</span>                          <span class='hs-layout'>,</span><span class='hs-layout'>(</span><span class='hs-str'>"time"</span><span class='hs-layout'>,</span><span class='hs-str'>"time"</span><span class='hs-layout'>)</span>
<a name="line-34"></a><span class='hs-varop'>&gt;</span>                          <span class='hs-layout'>,</span><span class='hs-layout'>(</span><span class='hs-str'>"timestamp"</span><span class='hs-layout'>,</span><span class='hs-str'>"timestamp"</span><span class='hs-layout'>)</span>
<a name="line-35"></a><span class='hs-varop'>&gt;</span>                          <span class='hs-keyglyph'>]</span> <span class='hs-comment'>-- todo: these are postgres names</span>
<a name="line-36"></a><span class='hs-varop'>&gt;</span>     <span class='hs-layout'>,</span><span class='hs-varid'>diDefaultCatalog</span> <span class='hs-keyglyph'>=</span> <span class='hs-varid'>diDefaultCatalog</span> <span class='hs-varid'>postgresDialect</span>
<a name="line-37"></a><span class='hs-varop'>&gt;</span>     <span class='hs-layout'>}</span>
</pre>
</body>
</html>
