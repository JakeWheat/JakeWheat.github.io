<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd"><html xmlns="http://www.w3.org/1999/xhtml"><head><meta http-equiv="Content-Type" content="text/html; charset=UTF-8" /><title>Database.HsSqlPpp.Catalog</title><link href="ocean.css" rel="stylesheet" type="text/css" title="Ocean" /><script src="haddock-util.js" type="text/javascript"></script><script type="text/javascript">//<![CDATA[
window.onload = function () {pageLoad();setSynopsis("mini_Database-HsSqlPpp-Catalog.html");};
//]]>
</script></head><body><div id="package-header"><ul class="links" id="page-menu"><li><a href="src/Database-HsSqlPpp-Catalog.html">Source</a></li><li><a href="index.html">Contents</a></li><li><a href="doc-index.html">Index</a></li></ul><p class="caption">hssqlppp-0.5.26: SQL parser and type checker</p></div><div id="content"><div id="module-header"><table class="info"><tr><th>Safe Haskell</th><td>None</td></tr><tr><th>Language</th><td>Haskell2010</td></tr></table><p class="caption">Database.HsSqlPpp.Catalog</p></div><div id="table-of-contents"><p class="caption">Contents</p><ul><li><a href="#g:1">Data types</a><ul><li><a href="#g:2">Updates</a></li><li><a href="#g:3">bits and pieces</a></li></ul></li><li><a href="#g:4">Functions</a></li><li><a href="#g:5">testing support</a></li></ul></div><div id="description"><p class="caption">Description</p><div class="doc"><p>This module contains the database catalog data types and helper
   functions.</p><p>The catalog data type holds the catalog information needed to type
  check sql code, and a catalog value is produced after typechecking sql
  which represents the catalog that would be produced (e.g. for sql
  containing ddl)</p><p>You can create a catalog using the <code><a href="Database-HsSqlPpp-Catalog.html#t:CatalogUpdate">CatalogUpdate</a></code> type, and there
  is example and util in the repo which reads a catalog from
  an existing database in postgres.</p></div></div><div id="synopsis"><p id="control.syn" class="caption expander" onclick="toggleSection('syn')">Synopsis</p><ul id="section.syn" class="hide" onclick="toggleSection('syn')"><li class="src short"><span class="keyword">data</span> <a href="#t:Catalog">Catalog</a></li><li class="src short"><span class="keyword">data</span> <a href="#t:CatalogUpdate">CatalogUpdate</a><ul class="subs"><li>= <a href="#v:CatCreateSchema">CatCreateSchema</a> <a href="Database-HsSqlPpp-Catalog.html#t:CatName">CatName</a></li><li>| <a href="#v:CatCreateScalarType">CatCreateScalarType</a> <a href="Database-HsSqlPpp-Catalog.html#t:CatName">CatName</a></li><li>| <a href="#v:CatCreateDomainType">CatCreateDomainType</a> <a href="Database-HsSqlPpp-Catalog.html#t:CatName">CatName</a> <a href="Database-HsSqlPpp-Catalog.html#t:CatName">CatName</a></li><li>| <a href="#v:CatCreateArrayType">CatCreateArrayType</a> <a href="Database-HsSqlPpp-Catalog.html#t:CatName">CatName</a> <a href="Database-HsSqlPpp-Catalog.html#t:CatName">CatName</a></li><li>| <a href="#v:CatCreatePrefixOp">CatCreatePrefixOp</a> <a href="Database-HsSqlPpp-Catalog.html#t:CatName">CatName</a> <a href="Database-HsSqlPpp-Catalog.html#t:CatName">CatName</a> <a href="Database-HsSqlPpp-Catalog.html#t:CatName">CatName</a></li><li>| <a href="#v:CatCreatePostfixOp">CatCreatePostfixOp</a> <a href="Database-HsSqlPpp-Catalog.html#t:CatName">CatName</a> <a href="Database-HsSqlPpp-Catalog.html#t:CatName">CatName</a> <a href="Database-HsSqlPpp-Catalog.html#t:CatName">CatName</a></li><li>| <a href="#v:CatCreateBinaryOp">CatCreateBinaryOp</a> <a href="Database-HsSqlPpp-Catalog.html#t:CatName">CatName</a> <a href="Database-HsSqlPpp-Catalog.html#t:CatName">CatName</a> <a href="Database-HsSqlPpp-Catalog.html#t:CatName">CatName</a> <a href="Database-HsSqlPpp-Catalog.html#t:CatName">CatName</a></li><li>| <a href="#v:CatCreateFunction">CatCreateFunction</a> <a href="Database-HsSqlPpp-Catalog.html#t:CatName">CatName</a> [<a href="Database-HsSqlPpp-Catalog.html#t:CatName">CatName</a>] <a href="../base-4.8.2.0/Data-Bool.html#t:Bool">Bool</a> <a href="Database-HsSqlPpp-Catalog.html#t:CatName">CatName</a></li><li>| <a href="#v:CatCreateVariadicFunction">CatCreateVariadicFunction</a> <a href="Database-HsSqlPpp-Catalog.html#t:CatName">CatName</a> [<a href="Database-HsSqlPpp-Catalog.html#t:CatName">CatName</a>] <a href="../base-4.8.2.0/Data-Bool.html#t:Bool">Bool</a> <a href="Database-HsSqlPpp-Catalog.html#t:CatName">CatName</a></li><li>| <a href="#v:CatCreateSpecialOp">CatCreateSpecialOp</a> <a href="Database-HsSqlPpp-Catalog.html#t:CatName">CatName</a> [<a href="Database-HsSqlPpp-Catalog.html#t:CatName">CatName</a>] <a href="../base-4.8.2.0/Data-Bool.html#t:Bool">Bool</a> <a href="Database-HsSqlPpp-Catalog.html#t:CatName">CatName</a></li><li>| <a href="#v:CatCreateAggregate">CatCreateAggregate</a> <a href="Database-HsSqlPpp-Catalog.html#t:CatName">CatName</a> [<a href="Database-HsSqlPpp-Catalog.html#t:CatName">CatName</a>] <a href="Database-HsSqlPpp-Catalog.html#t:CatName">CatName</a></li><li>| <a href="#v:CatCreateTable">CatCreateTable</a> (<a href="Database-HsSqlPpp-Catalog.html#t:CatName">CatName</a>, <a href="Database-HsSqlPpp-Catalog.html#t:CatName">CatName</a>) [(<a href="Database-HsSqlPpp-Catalog.html#t:CatName">CatName</a>, <a href="Database-HsSqlPpp-Catalog.html#t:CatNameExtra">CatNameExtra</a>)]</li><li>| <a href="#v:CatCreateCast">CatCreateCast</a> <a href="Database-HsSqlPpp-Catalog.html#t:CatName">CatName</a> <a href="Database-HsSqlPpp-Catalog.html#t:CatName">CatName</a> <a href="Database-HsSqlPpp-Catalog.html#t:CastContext">CastContext</a></li><li>| <a href="#v:CatCreateTypeCategoryEntry">CatCreateTypeCategoryEntry</a> <a href="Database-HsSqlPpp-Catalog.html#t:CatName">CatName</a> (<a href="../text-1.2.2.1/Data-Text.html#t:Text">Text</a>, <a href="../base-4.8.2.0/Data-Bool.html#t:Bool">Bool</a>)</li></ul></li><li class="src short"><span class="keyword">data</span> <a href="#t:CastContext">CastContext</a><ul class="subs"><li>= <a href="#v:ImplicitCastContext">ImplicitCastContext</a></li><li>| <a href="#v:AssignmentCastContext">AssignmentCastContext</a></li><li>| <a href="#v:ExplicitCastContext">ExplicitCastContext</a></li></ul></li><li class="src short"><span class="keyword">data</span> <a href="#t:CompositeFlavour">CompositeFlavour</a><ul class="subs"><li>= <a href="#v:Composite">Composite</a></li><li>| <a href="#v:TableComposite">TableComposite</a></li><li>| <a href="#v:ViewComposite">ViewComposite</a></li></ul></li><li class="src short"><span class="keyword">type</span> <a href="#t:CatName">CatName</a> = <a href="../text-1.2.2.1/Data-Text.html#t:Text">Text</a></li><li class="src short"><span class="keyword">data</span> <a href="#t:CatNameExtra">CatNameExtra</a> = <a href="#v:CatNameExtra">CatNameExtra</a> {<ul class="subs"><li><a href="#v:catName">catName</a> :: <a href="Database-HsSqlPpp-Catalog.html#t:CatName">CatName</a></li><li><a href="#v:catPrecision">catPrecision</a> :: <a href="../base-4.8.2.0/Data-Maybe.html#t:Maybe">Maybe</a> <a href="../base-4.8.2.0/Data-Int.html#t:Int">Int</a></li><li><a href="#v:catScale">catScale</a> :: <a href="../base-4.8.2.0/Data-Maybe.html#t:Maybe">Maybe</a> <a href="../base-4.8.2.0/Data-Int.html#t:Int">Int</a></li><li><a href="#v:catNullable">catNullable</a> :: <a href="../base-4.8.2.0/Data-Bool.html#t:Bool">Bool</a></li></ul>}</li><li class="src short"><a href="#v:mkCatNameExtra">mkCatNameExtra</a> :: <a href="Database-HsSqlPpp-Catalog.html#t:CatName">CatName</a> -&gt; <a href="Database-HsSqlPpp-Catalog.html#t:CatNameExtra">CatNameExtra</a></li><li class="src short"><a href="#v:mkCatNameExtraNN">mkCatNameExtraNN</a> :: <a href="Database-HsSqlPpp-Catalog.html#t:CatName">CatName</a> -&gt; <a href="Database-HsSqlPpp-Catalog.html#t:CatNameExtra">CatNameExtra</a></li><li class="src short"><a href="#v:updateCatalog">updateCatalog</a> :: [<a href="Database-HsSqlPpp-Catalog.html#t:CatalogUpdate">CatalogUpdate</a>] -&gt; <a href="Database-HsSqlPpp-Catalog.html#t:Catalog">Catalog</a> -&gt; <a href="../base-4.8.2.0/Data-Either.html#t:Either">Either</a> [<a href="Database-HsSqlPpp-Types.html#t:TypeError">TypeError</a>] <a href="Database-HsSqlPpp-Catalog.html#t:Catalog">Catalog</a></li><li class="src short"><a href="#v:deconstructCatalog">deconstructCatalog</a> :: <a href="Database-HsSqlPpp-Catalog.html#t:Catalog">Catalog</a> -&gt; [<a href="Database-HsSqlPpp-Catalog.html#t:CatalogUpdate">CatalogUpdate</a>]</li><li class="src short"><span class="keyword">data</span> <a href="#t:Environment">Environment</a></li><li class="src short"><a href="#v:brokeEnvironment">brokeEnvironment</a> :: <a href="Database-HsSqlPpp-Catalog.html#t:Environment">Environment</a></li><li class="src short"><a href="#v:envSelectListEnvironment">envSelectListEnvironment</a> :: [(<a href="../text-1.2.2.1/Data-Text.html#t:Text">Text</a>, <a href="Database-HsSqlPpp-Types.html#t:TypeExtra">TypeExtra</a>)] -&gt; <a href="../base-4.8.2.0/Data-Either.html#t:Either">Either</a> [<a href="Database-HsSqlPpp-Types.html#t:TypeError">TypeError</a>] <a href="Database-HsSqlPpp-Catalog.html#t:Environment">Environment</a></li></ul></div><div id="interface"><h1 id="g:1">Data types</h1><div class="top"><p class="src"><span class="keyword">data</span> <a name="t:Catalog" class="def">Catalog</a> <a href="src/Database-HsSqlPpp-Internals-Catalog-CatalogTypes.html#Catalog" class="link">Source</a></p><div class="doc"><p>The main datatype, this holds the catalog and context
 information to type check against.</p></div><div class="subs instances"><p id="control.i:Catalog" class="caption collapser" onclick="toggleSection('i:Catalog')">Instances</p><div id="section.i:Catalog" class="show"><table><tr><td class="src clearfix"><span class="inst-left"><a href="../base-4.8.2.0/Data-Eq.html#t:Eq">Eq</a> <a href="Database-HsSqlPpp-Catalog.html#t:Catalog">Catalog</a></span> <a href="src/Database-HsSqlPpp-Internals-Catalog-CatalogTypes.html#line-100" class="link">Source</a></td><td class="doc empty">&nbsp;</td></tr><tr><td class="src clearfix"><span class="inst-left"><a href="../base-4.8.2.0/Data-Data.html#t:Data">Data</a> <a href="Database-HsSqlPpp-Catalog.html#t:Catalog">Catalog</a></span> <a href="src/Database-HsSqlPpp-Internals-Catalog-CatalogTypes.html#line-100" class="link">Source</a></td><td class="doc empty">&nbsp;</td></tr><tr><td class="src clearfix"><span class="inst-left"><a href="../base-4.8.2.0/Text-Show.html#t:Show">Show</a> <a href="Database-HsSqlPpp-Catalog.html#t:Catalog">Catalog</a></span> <a href="src/Database-HsSqlPpp-Internals-Catalog-CatalogTypes.html#line-100" class="link">Source</a></td><td class="doc empty">&nbsp;</td></tr></table></div></div></div><h2 id="g:2">Updates</h2><div class="top"><p class="src"><span class="keyword">data</span> <a name="t:CatalogUpdate" class="def">CatalogUpdate</a> <a href="src/Database-HsSqlPpp-Internals-Catalog-CatalogTypes.html#CatalogUpdate" class="link">Source</a></p><div class="subs constructors"><p class="caption">Constructors</p><table><tr><td class="src"><a name="v:CatCreateSchema" class="def">CatCreateSchema</a> <a href="Database-HsSqlPpp-Catalog.html#t:CatName">CatName</a></td><td class="doc"><p>register a schema with the given name</p></td></tr><tr><td class="src"><a name="v:CatCreateScalarType" class="def">CatCreateScalarType</a> <a href="Database-HsSqlPpp-Catalog.html#t:CatName">CatName</a></td><td class="doc"><p>register a base scalar type with the given name</p></td></tr><tr><td class="src"><a name="v:CatCreateDomainType" class="def">CatCreateDomainType</a> <a href="Database-HsSqlPpp-Catalog.html#t:CatName">CatName</a> <a href="Database-HsSqlPpp-Catalog.html#t:CatName">CatName</a></td><td class="doc"><p>register a domain type with name and base type</p></td></tr><tr><td class="src"><a name="v:CatCreateArrayType" class="def">CatCreateArrayType</a> <a href="Database-HsSqlPpp-Catalog.html#t:CatName">CatName</a> <a href="Database-HsSqlPpp-Catalog.html#t:CatName">CatName</a></td><td class="doc"><p>register an array type with name and base type</p></td></tr><tr><td class="src"><a name="v:CatCreatePrefixOp" class="def">CatCreatePrefixOp</a> <a href="Database-HsSqlPpp-Catalog.html#t:CatName">CatName</a> <a href="Database-HsSqlPpp-Catalog.html#t:CatName">CatName</a> <a href="Database-HsSqlPpp-Catalog.html#t:CatName">CatName</a></td><td class="doc"><p>register a prefix op, opname, param type, return type</p></td></tr><tr><td class="src"><a name="v:CatCreatePostfixOp" class="def">CatCreatePostfixOp</a> <a href="Database-HsSqlPpp-Catalog.html#t:CatName">CatName</a> <a href="Database-HsSqlPpp-Catalog.html#t:CatName">CatName</a> <a href="Database-HsSqlPpp-Catalog.html#t:CatName">CatName</a></td><td class="doc"><p>register a postfix op, opname, param type, return type</p></td></tr><tr><td class="src"><a name="v:CatCreateBinaryOp" class="def">CatCreateBinaryOp</a> <a href="Database-HsSqlPpp-Catalog.html#t:CatName">CatName</a> <a href="Database-HsSqlPpp-Catalog.html#t:CatName">CatName</a> <a href="Database-HsSqlPpp-Catalog.html#t:CatName">CatName</a> <a href="Database-HsSqlPpp-Catalog.html#t:CatName">CatName</a></td><td class="doc"><p>register a binary op, opname, the two param types, return type</p></td></tr><tr><td class="src"><a name="v:CatCreateFunction" class="def">CatCreateFunction</a> <a href="Database-HsSqlPpp-Catalog.html#t:CatName">CatName</a> [<a href="Database-HsSqlPpp-Catalog.html#t:CatName">CatName</a>] <a href="../base-4.8.2.0/Data-Bool.html#t:Bool">Bool</a> <a href="Database-HsSqlPpp-Catalog.html#t:CatName">CatName</a></td><td class="doc"><p>register a function: name, param types, retsetof, return type</p></td></tr><tr><td class="src"><a name="v:CatCreateVariadicFunction" class="def">CatCreateVariadicFunction</a> <a href="Database-HsSqlPpp-Catalog.html#t:CatName">CatName</a> [<a href="Database-HsSqlPpp-Catalog.html#t:CatName">CatName</a>] <a href="../base-4.8.2.0/Data-Bool.html#t:Bool">Bool</a> <a href="Database-HsSqlPpp-Catalog.html#t:CatName">CatName</a></td><td class="doc"><p>register a variadic function: name, param types, retsetof, return type
 the last parameter will be wrapped in an array type</p></td></tr><tr><td class="src"><a name="v:CatCreateSpecialOp" class="def">CatCreateSpecialOp</a> <a href="Database-HsSqlPpp-Catalog.html#t:CatName">CatName</a> [<a href="Database-HsSqlPpp-Catalog.html#t:CatName">CatName</a>] <a href="../base-4.8.2.0/Data-Bool.html#t:Bool">Bool</a> <a href="Database-HsSqlPpp-Catalog.html#t:CatName">CatName</a></td><td class="doc"><p>special ops include between, substring, position, basically
 all operators/functions which use mixfix or extra syntax
 (not including non scalar functions like aggregates)</p></td></tr><tr><td class="src"><a name="v:CatCreateAggregate" class="def">CatCreateAggregate</a> <a href="Database-HsSqlPpp-Catalog.html#t:CatName">CatName</a> [<a href="Database-HsSqlPpp-Catalog.html#t:CatName">CatName</a>] <a href="Database-HsSqlPpp-Catalog.html#t:CatName">CatName</a></td><td class="doc"><p>register a aggregate: name, param types, return type</p></td></tr><tr><td class="src"><a name="v:CatCreateTable" class="def">CatCreateTable</a> (<a href="Database-HsSqlPpp-Catalog.html#t:CatName">CatName</a>, <a href="Database-HsSqlPpp-Catalog.html#t:CatName">CatName</a>) [(<a href="Database-HsSqlPpp-Catalog.html#t:CatName">CatName</a>, <a href="Database-HsSqlPpp-Catalog.html#t:CatNameExtra">CatNameExtra</a>)]</td><td class="doc"><p>register a table only: name, (colname,typename) pairs</p></td></tr><tr><td class="src"><a name="v:CatCreateCast" class="def">CatCreateCast</a> <a href="Database-HsSqlPpp-Catalog.html#t:CatName">CatName</a> <a href="Database-HsSqlPpp-Catalog.html#t:CatName">CatName</a> <a href="Database-HsSqlPpp-Catalog.html#t:CastContext">CastContext</a></td><td class="doc"><p>register a cast in the catalog</p></td></tr><tr><td class="src"><a name="v:CatCreateTypeCategoryEntry" class="def">CatCreateTypeCategoryEntry</a> <a href="Database-HsSqlPpp-Catalog.html#t:CatName">CatName</a> (<a href="../text-1.2.2.1/Data-Text.html#t:Text">Text</a>, <a href="../base-4.8.2.0/Data-Bool.html#t:Bool">Bool</a>)</td><td class="doc"><p>register a type category for a type (used in the implicit cast resolution)</p></td></tr></table></div><div class="subs instances"><p id="control.i:CatalogUpdate" class="caption collapser" onclick="toggleSection('i:CatalogUpdate')">Instances</p><div id="section.i:CatalogUpdate" class="show"><table><tr><td class="src clearfix"><span class="inst-left"><a href="../base-4.8.2.0/Data-Eq.html#t:Eq">Eq</a> <a href="Database-HsSqlPpp-Catalog.html#t:CatalogUpdate">CatalogUpdate</a></span> <a href="src/Database-HsSqlPpp-Internals-Catalog-CatalogTypes.html#line-192" class="link">Source</a></td><td class="doc empty">&nbsp;</td></tr><tr><td class="src clearfix"><span class="inst-left"><a href="../base-4.8.2.0/Data-Data.html#t:Data">Data</a> <a href="Database-HsSqlPpp-Catalog.html#t:CatalogUpdate">CatalogUpdate</a></span> <a href="src/Database-HsSqlPpp-Internals-Catalog-CatalogTypes.html#line-192" class="link">Source</a></td><td class="doc empty">&nbsp;</td></tr><tr><td class="src clearfix"><span class="inst-left"><a href="../base-4.8.2.0/Data-Ord.html#t:Ord">Ord</a> <a href="Database-HsSqlPpp-Catalog.html#t:CatalogUpdate">CatalogUpdate</a></span> <a href="src/Database-HsSqlPpp-Internals-Catalog-CatalogTypes.html#line-192" class="link">Source</a></td><td class="doc empty">&nbsp;</td></tr><tr><td class="src clearfix"><span class="inst-left"><a href="../base-4.8.2.0/Text-Show.html#t:Show">Show</a> <a href="Database-HsSqlPpp-Catalog.html#t:CatalogUpdate">CatalogUpdate</a></span> <a href="src/Database-HsSqlPpp-Internals-Catalog-CatalogTypes.html#line-192" class="link">Source</a></td><td class="doc empty">&nbsp;</td></tr></table></div></div></div><h2 id="g:3">bits and pieces</h2><div class="top"><p class="src"><span class="keyword">data</span> <a name="t:CastContext" class="def">CastContext</a> <a href="src/Database-HsSqlPpp-Internals-Catalog-CatalogTypes.html#CastContext" class="link">Source</a></p><div class="doc"><p>Use to note what the flavour of a cast is, i.e. if/when it can
 be used implicitly.</p></div><div class="subs constructors"><p class="caption">Constructors</p><table><tr><td class="src"><a name="v:ImplicitCastContext" class="def">ImplicitCastContext</a></td><td class="doc empty">&nbsp;</td></tr><tr><td class="src"><a name="v:AssignmentCastContext" class="def">AssignmentCastContext</a></td><td class="doc empty">&nbsp;</td></tr><tr><td class="src"><a name="v:ExplicitCastContext" class="def">ExplicitCastContext</a></td><td class="doc empty">&nbsp;</td></tr></table></div><div class="subs instances"><p id="control.i:CastContext" class="caption collapser" onclick="toggleSection('i:CastContext')">Instances</p><div id="section.i:CastContext" class="show"><table><tr><td class="src clearfix"><span class="inst-left"><a href="../base-4.8.2.0/Data-Eq.html#t:Eq">Eq</a> <a href="Database-HsSqlPpp-Catalog.html#t:CastContext">CastContext</a></span> <a href="src/Database-HsSqlPpp-Internals-Catalog-CatalogTypes.html#line-108" class="link">Source</a></td><td class="doc empty">&nbsp;</td></tr><tr><td class="src clearfix"><span class="inst-left"><a href="../base-4.8.2.0/Data-Data.html#t:Data">Data</a> <a href="Database-HsSqlPpp-Catalog.html#t:CastContext">CastContext</a></span> <a href="src/Database-HsSqlPpp-Internals-Catalog-CatalogTypes.html#line-108" class="link">Source</a></td><td class="doc empty">&nbsp;</td></tr><tr><td class="src clearfix"><span class="inst-left"><a href="../base-4.8.2.0/Data-Ord.html#t:Ord">Ord</a> <a href="Database-HsSqlPpp-Catalog.html#t:CastContext">CastContext</a></span> <a href="src/Database-HsSqlPpp-Internals-Catalog-CatalogTypes.html#line-108" class="link">Source</a></td><td class="doc empty">&nbsp;</td></tr><tr><td class="src clearfix"><span class="inst-left"><a href="../base-4.8.2.0/Text-Show.html#t:Show">Show</a> <a href="Database-HsSqlPpp-Catalog.html#t:CastContext">CastContext</a></span> <a href="src/Database-HsSqlPpp-Internals-Catalog-CatalogTypes.html#line-108" class="link">Source</a></td><td class="doc empty">&nbsp;</td></tr></table></div></div></div><div class="top"><p class="src"><span class="keyword">data</span> <a name="t:CompositeFlavour" class="def">CompositeFlavour</a> <a href="src/Database-HsSqlPpp-Internals-Catalog-CatalogTypes.html#CompositeFlavour" class="link">Source</a></p><div class="subs constructors"><p class="caption">Constructors</p><table><tr><td class="src"><a name="v:Composite" class="def">Composite</a></td><td class="doc empty">&nbsp;</td></tr><tr><td class="src"><a name="v:TableComposite" class="def">TableComposite</a></td><td class="doc empty">&nbsp;</td></tr><tr><td class="src"><a name="v:ViewComposite" class="def">ViewComposite</a></td><td class="doc empty">&nbsp;</td></tr></table></div><div class="subs instances"><p id="control.i:CompositeFlavour" class="caption collapser" onclick="toggleSection('i:CompositeFlavour')">Instances</p><div id="section.i:CompositeFlavour" class="show"><table><tr><td class="src clearfix"><span class="inst-left"><a href="../base-4.8.2.0/Data-Eq.html#t:Eq">Eq</a> <a href="Database-HsSqlPpp-Catalog.html#t:CompositeFlavour">CompositeFlavour</a></span> <a href="src/Database-HsSqlPpp-Internals-Catalog-CatalogTypes.html#line-55" class="link">Source</a></td><td class="doc empty">&nbsp;</td></tr><tr><td class="src clearfix"><span class="inst-left"><a href="../base-4.8.2.0/Data-Data.html#t:Data">Data</a> <a href="Database-HsSqlPpp-Catalog.html#t:CompositeFlavour">CompositeFlavour</a></span> <a href="src/Database-HsSqlPpp-Internals-Catalog-CatalogTypes.html#line-55" class="link">Source</a></td><td class="doc empty">&nbsp;</td></tr><tr><td class="src clearfix"><span class="inst-left"><a href="../base-4.8.2.0/Data-Ord.html#t:Ord">Ord</a> <a href="Database-HsSqlPpp-Catalog.html#t:CompositeFlavour">CompositeFlavour</a></span> <a href="src/Database-HsSqlPpp-Internals-Catalog-CatalogTypes.html#line-55" class="link">Source</a></td><td class="doc empty">&nbsp;</td></tr><tr><td class="src clearfix"><span class="inst-left"><a href="../base-4.8.2.0/Text-Show.html#t:Show">Show</a> <a href="Database-HsSqlPpp-Catalog.html#t:CompositeFlavour">CompositeFlavour</a></span> <a href="src/Database-HsSqlPpp-Internals-Catalog-CatalogTypes.html#line-55" class="link">Source</a></td><td class="doc empty">&nbsp;</td></tr></table></div></div></div><div class="top"><p class="src"><span class="keyword">type</span> <a name="t:CatName" class="def">CatName</a> = <a href="../text-1.2.2.1/Data-Text.html#t:Text">Text</a> <a href="src/Database-HsSqlPpp-Internals-Catalog-CatalogTypes.html#CatName" class="link">Source</a></p><div class="doc"><p>represents the name of something in the catalog, when schema
 support is added then this will change to (String,String)</p></div></div><div class="top"><p class="src"><span class="keyword">data</span> <a name="t:CatNameExtra" class="def">CatNameExtra</a> <a href="src/Database-HsSqlPpp-Internals-Catalog-CatalogTypes.html#CatNameExtra" class="link">Source</a></p><div class="doc"><p>type name and precision and nullability</p></div><div class="subs constructors"><p class="caption">Constructors</p><table><tr><td class="src"><a name="v:CatNameExtra" class="def">CatNameExtra</a></td><td class="doc empty">&nbsp;</td></tr><tr><td colspan="2"><div class="subs fields"><p class="caption">Fields</p><dl><dt class="src"><a name="v:catName" class="def">catName</a> :: <a href="Database-HsSqlPpp-Catalog.html#t:CatName">CatName</a></dt><dd class="doc empty">&nbsp;</dd><dt class="src"><a name="v:catPrecision" class="def">catPrecision</a> :: <a href="../base-4.8.2.0/Data-Maybe.html#t:Maybe">Maybe</a> <a href="../base-4.8.2.0/Data-Int.html#t:Int">Int</a></dt><dd class="doc empty">&nbsp;</dd><dt class="src"><a name="v:catScale" class="def">catScale</a> :: <a href="../base-4.8.2.0/Data-Maybe.html#t:Maybe">Maybe</a> <a href="../base-4.8.2.0/Data-Int.html#t:Int">Int</a></dt><dd class="doc empty">&nbsp;</dd><dt class="src"><a name="v:catNullable" class="def">catNullable</a> :: <a href="../base-4.8.2.0/Data-Bool.html#t:Bool">Bool</a></dt><dd class="doc empty">&nbsp;</dd></dl><div class="clear"></div></div></td></tr></table></div><div class="subs instances"><p id="control.i:CatNameExtra" class="caption collapser" onclick="toggleSection('i:CatNameExtra')">Instances</p><div id="section.i:CatNameExtra" class="show"><table><tr><td class="src clearfix"><span class="inst-left"><a href="../base-4.8.2.0/Data-Eq.html#t:Eq">Eq</a> <a href="Database-HsSqlPpp-Catalog.html#t:CatNameExtra">CatNameExtra</a></span> <a href="src/Database-HsSqlPpp-Internals-Catalog-CatalogTypes.html#line-48" class="link">Source</a></td><td class="doc empty">&nbsp;</td></tr><tr><td class="src clearfix"><span class="inst-left"><a href="../base-4.8.2.0/Data-Data.html#t:Data">Data</a> <a href="Database-HsSqlPpp-Catalog.html#t:CatNameExtra">CatNameExtra</a></span> <a href="src/Database-HsSqlPpp-Internals-Catalog-CatalogTypes.html#line-48" class="link">Source</a></td><td class="doc empty">&nbsp;</td></tr><tr><td class="src clearfix"><span class="inst-left"><a href="../base-4.8.2.0/Data-Ord.html#t:Ord">Ord</a> <a href="Database-HsSqlPpp-Catalog.html#t:CatNameExtra">CatNameExtra</a></span> <a href="src/Database-HsSqlPpp-Internals-Catalog-CatalogTypes.html#line-48" class="link">Source</a></td><td class="doc empty">&nbsp;</td></tr><tr><td class="src clearfix"><span class="inst-left"><a href="../base-4.8.2.0/Text-Show.html#t:Show">Show</a> <a href="Database-HsSqlPpp-Catalog.html#t:CatNameExtra">CatNameExtra</a></span> <a href="src/Database-HsSqlPpp-Internals-Catalog-CatalogTypes.html#line-48" class="link">Source</a></td><td class="doc empty">&nbsp;</td></tr></table></div></div></div><div class="top"><p class="src"><a name="v:mkCatNameExtra" class="def">mkCatNameExtra</a> :: <a href="Database-HsSqlPpp-Catalog.html#t:CatName">CatName</a> -&gt; <a href="Database-HsSqlPpp-Catalog.html#t:CatNameExtra">CatNameExtra</a> <a href="src/Database-HsSqlPpp-Internals-Catalog-CatalogTypes.html#mkCatNameExtra" class="link">Source</a></p></div><div class="top"><p class="src"><a name="v:mkCatNameExtraNN" class="def">mkCatNameExtraNN</a> :: <a href="Database-HsSqlPpp-Catalog.html#t:CatName">CatName</a> -&gt; <a href="Database-HsSqlPpp-Catalog.html#t:CatNameExtra">CatNameExtra</a> <a href="src/Database-HsSqlPpp-Internals-Catalog-CatalogTypes.html#mkCatNameExtraNN" class="link">Source</a></p></div><h1 id="g:4">Functions</h1><div class="top"><p class="src"><a name="v:updateCatalog" class="def">updateCatalog</a> :: [<a href="Database-HsSqlPpp-Catalog.html#t:CatalogUpdate">CatalogUpdate</a>] -&gt; <a href="Database-HsSqlPpp-Catalog.html#t:Catalog">Catalog</a> -&gt; <a href="../base-4.8.2.0/Data-Either.html#t:Either">Either</a> [<a href="Database-HsSqlPpp-Types.html#t:TypeError">TypeError</a>] <a href="Database-HsSqlPpp-Catalog.html#t:Catalog">Catalog</a> <a href="src/Database-HsSqlPpp-Internals-Catalog-CatalogBuilder.html#updateCatalog" class="link">Source</a></p><div class="doc"><p>Applies a list of <code><a href="Database-HsSqlPpp-Catalog.html#t:CatalogUpdate">CatalogUpdate</a></code>s to an <code><a href="Database-HsSqlPpp-Catalog.html#t:Catalog">Catalog</a></code> value
 to produce a new Catalog value. TODO: there will be a split
 between the individual low level updates which just update
 one <code>row</code> in the catalog type, and the high level updates
 which correspond to ddl (e.g. create type will also add the
 array type, create table will add a table, supply the
 private columns automatically, and add the composite type)
 highlevel not implemented yet. You must use the correct case and
 the canonical names for identifiers/types</p></div></div><div class="top"><p class="src"><a name="v:deconstructCatalog" class="def">deconstructCatalog</a> :: <a href="Database-HsSqlPpp-Catalog.html#t:Catalog">Catalog</a> -&gt; [<a href="Database-HsSqlPpp-Catalog.html#t:CatalogUpdate">CatalogUpdate</a>] <a href="src/Database-HsSqlPpp-Internals-Catalog-CatalogBuilder.html#deconstructCatalog" class="link">Source</a></p></div><h1 id="g:5">testing support</h1><div class="top"><p class="src"><span class="keyword">data</span> <a name="t:Environment" class="def">Environment</a> <a href="src/Database-HsSqlPpp-Internals-TypeChecking-Environment.html#Environment" class="link">Source</a></p><div class="doc"><p>Represent an environment using an abstracted version of the syntax
 which produced the environment. This structure has all the catalog
 queries resolved. No attempt is made to combine environment parts from
 different sources, they are just stacked together, the logic for
 working with combined environments is in the query functions below</p></div><div class="subs instances"><p id="control.i:Environment" class="caption collapser" onclick="toggleSection('i:Environment')">Instances</p><div id="section.i:Environment" class="show"><table><tr><td class="src clearfix"><span class="inst-left"><a href="../base-4.8.2.0/Data-Eq.html#t:Eq">Eq</a> <a href="Database-HsSqlPpp-Catalog.html#t:Environment">Environment</a></span> <a href="src/Database-HsSqlPpp-Internals-TypeChecking-Environment.html#line-109" class="link">Source</a></td><td class="doc empty">&nbsp;</td></tr><tr><td class="src clearfix"><span class="inst-left"><a href="../base-4.8.2.0/Data-Data.html#t:Data">Data</a> <a href="Database-HsSqlPpp-Catalog.html#t:Environment">Environment</a></span> <a href="src/Database-HsSqlPpp-Internals-TypeChecking-Environment.html#line-109" class="link">Source</a></td><td class="doc empty">&nbsp;</td></tr><tr><td class="src clearfix"><span class="inst-left"><a href="../base-4.8.2.0/Text-Show.html#t:Show">Show</a> <a href="Database-HsSqlPpp-Catalog.html#t:Environment">Environment</a></span> <a href="src/Database-HsSqlPpp-Internals-TypeChecking-Environment.html#line-109" class="link">Source</a></td><td class="doc empty">&nbsp;</td></tr></table></div></div></div><div class="top"><p class="src"><a name="v:brokeEnvironment" class="def">brokeEnvironment</a> :: <a href="Database-HsSqlPpp-Catalog.html#t:Environment">Environment</a> <a href="src/Database-HsSqlPpp-Internals-TypeChecking-Environment.html#brokeEnvironment" class="link">Source</a></p><div class="doc"><p>represents type check failure upstream, don't produce additional
 type check errors</p></div></div><div class="top"><p class="src"><a name="v:envSelectListEnvironment" class="def">envSelectListEnvironment</a> :: [(<a href="../text-1.2.2.1/Data-Text.html#t:Text">Text</a>, <a href="Database-HsSqlPpp-Types.html#t:TypeExtra">TypeExtra</a>)] -&gt; <a href="../base-4.8.2.0/Data-Either.html#t:Either">Either</a> [<a href="Database-HsSqlPpp-Types.html#t:TypeError">TypeError</a>] <a href="Database-HsSqlPpp-Catalog.html#t:Environment">Environment</a> <a href="src/Database-HsSqlPpp-Internals-TypeChecking-Environment.html#envSelectListEnvironment" class="link">Source</a></p></div></div></div><div id="footer"><p>Produced by <a href="http://www.haskell.org/haddock/">Haddock</a> version 2.16.1</p></div></body></html>